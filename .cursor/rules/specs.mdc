---
alwaysApply: true
---

# ドキュメント更新ルール

## ドキュメント更新の必須性

**機能を実装・改修した際は、必ず以下のドキュメントを更新すること：**

### 1. `specs/`ディレクトリ内の該当仕様書

- **新機能追加時**: 該当する仕様書に機能を追加
- **既存機能改修時**: 該当する仕様書の内容を更新
- **仕様書ファイル**:
  - `01-authentication-invitation.md` - 認証・招待機能
  - `02-project-management.md` - プロジェクト管理機能
  - `03-sheet-management.md` - シート管理機能
  - `04-company-management.md` - 会社管理機能
  - `05-user-management.md` - ユーザー管理機能

### 2. `README.md`

- **主な機能セクション**: 新機能を追加
- **データモデルセクション**: 新エンティティを追加（データベース変更時）
- **プロジェクト構造セクション**: 新ディレクトリ/ファイル構造を反映（新ディレクトリ追加時）
- **その他**: 変更内容に応じて適切なセクションを更新

## ドキュメント更新のタイミング

- **実装完了時**: 機能実装と同時にドキュメントを更新すること
- **プルリクエスト作成前**: ドキュメント更新を確認すること
- **コミット時**: ドキュメント更新も含めてコミットすること

## ドキュメント更新の内容

### specs/ の更新内容

#### 新機能追加時

- 基本情報（ページパス、ファイル、ミドルウェア等）
- 主要機能の説明
- 処理フロー（Mermaid図）
- API呼び出し（リクエスト/レスポンス形式）
- 権限・アクセス制御
- UI要素
- エラーハンドリング

#### 既存機能改修時

- 変更された機能の説明を更新
- 処理フローを更新
- API仕様を更新（変更がある場合）
- エラーハンドリングを更新（変更がある場合）

### README.md の更新内容

- **主な機能セクション**: 新機能を追加
- **データモデルセクション**: 新エンティティを追加
- **プロジェクト構造セクション**: 新ディレクトリ/ファイル構造を反映
- **その他**: 変更に応じて適切なセクションを更新

## チェックリスト

機能実装・改修時は以下のチェックリストを確認すること：

- [ ] 該当する`specs/`内の仕様書を更新した
- [ ] `README.md`の主な機能セクションを更新した
- [ ] データベース変更時は`README.md`のデータモデルセクションを更新した
- [ ] 新ディレクトリ追加時は`README.md`のプロジェクト構造セクションを更新した
- [ ] ドキュメントの内容が実装と一致していることを確認した

## 注意事項

- ドキュメント更新を忘れた場合、実装が不完全とみなされる
- プルリクエストレビュー時にドキュメント更新も確認される
- ドキュメントと実装の不一致はバグとして扱われる
